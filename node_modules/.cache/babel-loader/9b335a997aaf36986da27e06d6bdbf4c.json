{"ast":null,"code":"import _slicedToArray from \"/Users/capt4inmon/Documents/hospital-management-system-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/capt4inmon/Documents/hospital-management-system-fe/src/views/doctor/UpdatePrescription.js\";\nimport React from 'react';\nimport { Container, Row, Col, Form, FormGroup, Label, Input, CustomInput, Card, CardBody, Spinner, Button } from 'reactstrap';\nimport { getPrescriptionById, updatePrescription } from '../../services/doctor.services';\nimport { withRouter } from 'react-router';\n\nfunction UpdatePrescription(props) {\n  const _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        prescription = _React$useState2[0],\n        setPrescription = _React$useState2[1];\n\n  const _React$useState3 = React.useState(null),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        image = _React$useState4[0],\n        setImage = _React$useState4[1];\n\n  const _React$useState5 = React.useState(null),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        previewUrl = _React$useState6[0],\n        setPreviewUrl = _React$useState6[1];\n\n  const fileOnchangeHandler = value => {\n    setPreviewUrl(window.URL.createObjectURL(value.target.files[0]));\n    let fileReader = new FileReader();\n    fileReader.readAsDataURL(value.target.files[0]);\n\n    fileReader.onloadend = function () {\n      setImage(fileReader.result.split(',')[1]);\n    };\n  };\n\n  React.useEffect(() => {\n    getPrescriptionById(props.match.params.prescriptionId).then(prescription => {\n      setPrescription(prescription);\n      setPreviewUrl(prescription.image_url);\n      console.log(prescription);\n    }).catch(e => console.log(e));\n  }, []);\n\n  const updateButtonHandler = () => {\n    let prescription = {\n      id: props.match.params.prescriptionId,\n      comment: document.getElementById('comment').value,\n      prescription: image,\n      prescriptionDetails: document.getElementById('prescriptionDetails').value\n    };\n    updatePrescription(prescription).then(_ => props.history.replace('/doctor/add-prescription')).catch(e => console.log(e));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: 'content',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 29\n    }\n  }, prescription === null ? /*#__PURE__*/React.createElement(Spinner, {\n    size: 'lg',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 37\n    }\n  }) : /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: 'comment',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 45\n    }\n  }, \"Comment\"), /*#__PURE__*/React.createElement(Input, {\n    type: 'textarea',\n    placeholder: 'Type Comment',\n    id: 'comment',\n    defaultValue: prescription !== null ? prescription.comment : null,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: 'prescriptionDetails',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 45\n    }\n  }, \"Prescription\"), /*#__PURE__*/React.createElement(Input, {\n    type: 'textarea',\n    placeholder: 'Type Prescription',\n    id: 'prescriptionDetails',\n    defaultValue: prescription.prescription,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    style: {\n      minHeight: 250\n    },\n    className: 'bg-light d-flex align-items-center justify-content-center',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: 'prescription',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: previewUrl,\n    className: 'img-fluid rounded mx-auto d-block',\n    height: 200,\n    width: 200,\n    alt: 'preview',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 49\n    }\n  })), /*#__PURE__*/React.createElement(CustomInput, {\n    className: 'd-none',\n    onChange: fileOnchangeHandler,\n    type: \"file\",\n    id: \"prescription\",\n    name: \"prescription\",\n    label: \"Yo, pick a file!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: 'primary',\n    onClick: updateButtonHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 45\n    }\n  }, \"Update Prescription\")))))))));\n}\n\nexport default withRouter(UpdatePrescription);","map":{"version":3,"sources":["/Users/capt4inmon/Documents/hospital-management-system-fe/src/views/doctor/UpdatePrescription.js"],"names":["React","Container","Row","Col","Form","FormGroup","Label","Input","CustomInput","Card","CardBody","Spinner","Button","getPrescriptionById","updatePrescription","withRouter","UpdatePrescription","props","useState","prescription","setPrescription","image","setImage","previewUrl","setPreviewUrl","fileOnchangeHandler","value","window","URL","createObjectURL","target","files","fileReader","FileReader","readAsDataURL","onloadend","result","split","useEffect","match","params","prescriptionId","then","image_url","console","log","catch","e","updateButtonHandler","id","comment","document","getElementById","prescriptionDetails","_","history","replace","minHeight"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Container, Row, Col, Form, FormGroup, Label, Input, CustomInput, Card, CardBody, Spinner, Button } from 'reactstrap'\nimport { getPrescriptionById , updatePrescription } from '../../services/doctor.services';\nimport { withRouter } from 'react-router';\n\nfunction UpdatePrescription(props) {\n\n    const [prescription, setPrescription] = React.useState(null);\n    const [image, setImage] = React.useState(null);\n    const [previewUrl, setPreviewUrl] = React.useState(null);\n    const fileOnchangeHandler = (value) => {\n        setPreviewUrl(window.URL.createObjectURL(value.target.files[0]));\n        let fileReader = new FileReader();\n        fileReader.readAsDataURL(value.target.files[0])\n        fileReader.onloadend = function () {\n            setImage(fileReader.result.split(',')[1]);\n        }\n    }\n\n    React.useEffect(() => { \n        getPrescriptionById(props.match.params.prescriptionId).then(prescription => {\n            setPrescription(prescription);\n            setPreviewUrl(prescription.image_url);\n            console.log(prescription);\n        }).catch(e => console.log(e));\n    }, []);\n    const updateButtonHandler = () => {\n        let prescription = {\n            id: props.match.params.prescriptionId,\n            comment: document.getElementById('comment').value,\n            prescription: image,\n            prescriptionDetails: document.getElementById('prescriptionDetails').value,\n        }\n        updatePrescription(prescription).then(_ => props.history.replace('/doctor/add-prescription')).catch(e => console.log(e));\n    }\n    return (\n        <div className={'content'}>\n            <Container>\n                <Row>\n                    <Col md={12}>\n                        <Card>\n                            <CardBody>\n                                {prescription === null ?\n                                    <Spinner size={'lg'} />\n                                    :\n                                    <Form>\n                                        <FormGroup>\n                                            <Label for={'comment'}>Comment</Label>\n                                            <Input type={'textarea'} placeholder={'Type Comment'} id={'comment'} defaultValue={prescription !== null ? prescription.comment : null} required/>\n                                        </FormGroup>\n                                        <FormGroup>\n                                            <Label for={'prescriptionDetails'}>Prescription</Label>\n                                            <Input type={'textarea'} placeholder={'Type Prescription'} id={'prescriptionDetails'} defaultValue={prescription.prescription} required/>\n                                        </FormGroup>\n                                        <FormGroup style={{minHeight : 250}} className={'bg-light d-flex align-items-center justify-content-center'}>\n                                            <Label for={'prescription'}>\n                                                <img src={previewUrl} className={'img-fluid rounded mx-auto d-block'} height={200} width={200} alt={'preview'}/>\n                                            </Label>\n                                            <CustomInput className={'d-none'} onChange={fileOnchangeHandler} type=\"file\" id=\"prescription\" name=\"prescription\" label=\"Yo, pick a file!\" />\n                                        </FormGroup>\n                                        <FormGroup>\n                                            <Button color={'primary'} onClick={updateButtonHandler}>Update Prescription</Button>\n                                        </FormGroup>\n                                    </Form>\n                                }\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    )\n}\nexport default withRouter(UpdatePrescription);\n"]},"metadata":{},"sourceType":"module"}